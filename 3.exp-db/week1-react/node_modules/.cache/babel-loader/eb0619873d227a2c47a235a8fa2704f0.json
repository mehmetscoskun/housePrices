{"ast":null,"code":"import _regeneratorRuntime from \"/home/mehmet/Desktop/HackYourFuture/housePrices/3.exp-db/week1-react/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/mehmet/Desktop/HackYourFuture/housePrices/3.exp-db/week1-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _initializerDefineProperty from \"/home/mehmet/Desktop/HackYourFuture/housePrices/3.exp-db/week1-react/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _classCallCheck from \"/home/mehmet/Desktop/HackYourFuture/housePrices/3.exp-db/week1-react/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/mehmet/Desktop/HackYourFuture/housePrices/3.exp-db/week1-react/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _applyDecoratedDescriptor from \"/home/mehmet/Desktop/HackYourFuture/housePrices/3.exp-db/week1-react/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"/home/mehmet/Desktop/HackYourFuture/housePrices/3.exp-db/week1-react/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor;\n\nimport { configure, observable, action, runInAction } from 'mobx';\nimport axios from \"axios\";\nconfigure({\n  enforceActions: 'observed'\n});\nvar HouseApp = (_class =\n/*#__PURE__*/\nfunction () {\n  function HouseApp() {\n    _classCallCheck(this, HouseApp);\n\n    _initializerDefineProperty(this, \"output\", _descriptor, this);\n\n    this.output = {\n      houses: {},\n      status: 'loading'\n    };\n  }\n\n  _createClass(HouseApp, [{\n    key: \"fetchData\",\n    value: function () {\n      var _fetchData = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var _ref, data;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return axios('/houses');\n\n              case 2:\n                _ref = _context.sent;\n                data = _ref.data;\n                this.setData(data);\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      return function fetchData() {\n        return _fetchData.apply(this, arguments);\n      };\n    }()\n  }, {\n    key: \"setData\",\n    value: function setData(data) {\n      this.output.houses = data;\n      console.log(\"setdata\", this.output);\n    } // @action async listTodos() {\n    //     this.data.todos = {};\n    //     this.data.status = 'loading';\n    //     try {\n    //         const data = await this.getItems();\n    //         runInAction(() => {\n    //             console.log(data.results)\n    //             this.data.todos = data;\n    //             console.log(this.data.todos)\n    //             this.data.status = 'done';\n    //         })\n    //     }\n    //     catch(error) {\n    //         runInAction(() => {\n    //             this.data.status = 'error';\n    //         }) \n    //     }\n    // }\n    // @action addNewTodo = (newEntry) => {\n    //     const dateRegExp = /^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/;\n    //     if(newEntry.description === '' || !dateRegExp.test(newEntry.deadline)) {\n    //         this.wrongInput = true\n    //     } else {\n    //         this.data.status = 'loading';\n    //         this.createNewItem(newEntry).then(()=>{\n    //             runInAction(() => {\n    //                 newEntry.id = Math.random().toString(36).substr(2, 12);\n    //                 newEntry.deadline = new Date(newEntry.deadline).toJSON();\n    //                 this.data.todos.push(newEntry);\n    //                 this.data.status = 'done';\n    //                 this.wrongInput = false;\n    //             })\n    //         })\n    //         .catch((error) => {\n    //             runInAction(() => {\n    //                 this.data.status = 'error';\n    //             }) \n    //         })\n    //     }\n    // }\n    // getItems() {\n    //     return fetch('/houses')\n    //         .then(response => response.json())\n    // }\n    // createNewItem(item) {\n    //     return fetch('https://hyf-react-api.herokuapp.com/todos/create', {\n    //         method: 'POST',\n    //         body: JSON.stringify(item),\n    //         headers: {\n    //           \"Content-type\": \"application/json; charset=UTF-8\"\n    //         }\n    //       })\n    //       .then(response => response.json())\n    // }\n\n  }]);\n\n  return HouseApp;\n}(), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"output\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: null\n}), _applyDecoratedDescriptor(_class.prototype, \"setData\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setData\"), _class.prototype)), _class);\nvar myHouseApp = new HouseApp();\nexport default myHouseApp;","map":{"version":3,"sources":["/home/mehmet/Desktop/HackYourFuture/housePrices/3.exp-db/week1-react/src/store/houseApp.js"],"names":["configure","observable","action","runInAction","axios","enforceActions","HouseApp","output","houses","status","data","setData","console","log","myHouseApp"],"mappings":";;;;;;;;;;AAAA,SAAQA,SAAR,EAAmBC,UAAnB,EAA+BC,MAA/B,EAAuCC,WAAvC,QAAyD,MAAzD;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEAJ,SAAS,CAAC;AAACK,EAAAA,cAAc,EAAE;AAAjB,CAAD,CAAT;IAEMC,Q;;;AAIF,sBAAc;AAAA;;AAAA;;AACV,SAAKC,MAAL,GAAc;AACVC,MAAAA,MAAM,EAAE,EADE;AAEVC,MAAAA,MAAM,EAAE;AAFE,KAAd;AAIH;;;;;;;;;;;;;;;uBAGwBL,KAAK,CAAC,SAAD,C;;;;AAApBM,gBAAAA,I,QAAAA,I;AACN,qBAAKC,OAAL,CAAaD,IAAb;;;;;;;;;;;;;;;;4BAGYA,I,EAAM;AAClB,WAAKH,MAAL,CAAYC,MAAZ,GAAqBE,IAArB;AACAE,MAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ,EAAuB,KAAKN,MAA5B;AACH,K,CAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;2EA5ECN,U;;;;;4DAcAC,M;AAkEL,IAAMY,UAAU,GAAG,IAAIR,QAAJ,EAAnB;AAEA,eAAeQ,UAAf","sourcesContent":["import {configure, observable, action, runInAction} from 'mobx';\nimport axios from \"axios\";\n\nconfigure({enforceActions: 'observed'});\n\nclass HouseApp {\n\n    @observable output;\n\n    constructor() {\n        this.output = {\n            houses: {},\n            status: 'loading'\n        };\n    }\n\n    async fetchData() {\n        let { data } = await axios('/houses')\n        this.setData(data);\n    }\n\n    @action setData(data) {\n        this.output.houses = data;\n        console.log(\"setdata\", this.output);\n    }\n\n    // @action async listTodos() {\n    //     this.data.todos = {};\n    //     this.data.status = 'loading';\n    //     try {\n    //         const data = await this.getItems();\n    //         runInAction(() => {\n    //             console.log(data.results)\n    //             this.data.todos = data;\n    //             console.log(this.data.todos)\n    //             this.data.status = 'done';\n    //         })\n    //     }\n    //     catch(error) {\n    //         runInAction(() => {\n    //             this.data.status = 'error';\n    //         }) \n    //     }\n    // }\n\n    // @action addNewTodo = (newEntry) => {\n    //     const dateRegExp = /^\\d{4}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[01])$/;\n    \n    //     if(newEntry.description === '' || !dateRegExp.test(newEntry.deadline)) {\n    //         this.wrongInput = true\n    //     } else {\n    //         this.data.status = 'loading';\n    //         this.createNewItem(newEntry).then(()=>{\n    //             runInAction(() => {\n    //                 newEntry.id = Math.random().toString(36).substr(2, 12);\n    //                 newEntry.deadline = new Date(newEntry.deadline).toJSON();\n    //                 this.data.todos.push(newEntry);\n    //                 this.data.status = 'done';\n    //                 this.wrongInput = false;\n    //             })\n    //         })\n    //         .catch((error) => {\n    //             runInAction(() => {\n    //                 this.data.status = 'error';\n    //             }) \n    //         })\n    //     }\n    // }\n\n    // getItems() {\n    //     return fetch('/houses')\n    //         .then(response => response.json())\n    // }\n\n    // createNewItem(item) {\n    //     return fetch('https://hyf-react-api.herokuapp.com/todos/create', {\n    //         method: 'POST',\n    //         body: JSON.stringify(item),\n    //         headers: {\n    //           \"Content-type\": \"application/json; charset=UTF-8\"\n    //         }\n    //       })\n    //       .then(response => response.json())\n    // }\n\n}\n\nconst myHouseApp = new HouseApp();\n\nexport default myHouseApp;"]},"metadata":{},"sourceType":"module"}